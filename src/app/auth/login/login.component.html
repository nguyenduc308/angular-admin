<div class="login-page">
    <form [formGroup]="form" class="auth-form">
        <ng-container  *ngFor="let field of fields">
            <div class="p-float-label form-group">
                <input 
                    class="float-input" 
                    type="text" 
                    pInputText 
                    [id]="field.id" 
                    [formControlName]="field.id" 
                    (input)="onFieldChange($event)"
                />
                <label [for]="field.id">{{field.label}}</label>
            </div>
            <div *ngFor="let error of field.validationRules">
                <small 
                    *ngIf="error.length > 1 && form.controls[field.id]?.getError(error[0].toLowerCase()) && (form.get(field.id).touched  || form.get(field.id).dirty)" 
                    id="username2-help" 
                    class="p-invalid"
                >
                    {{error[1]}}
                </small>
            </div>
        </ng-container>
    </form>
</div>